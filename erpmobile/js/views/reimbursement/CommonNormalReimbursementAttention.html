
<div id="cNnavlistcontainer" class="demo-panel-contrast1 oj-contrast-marker">
    <div class="topHeader" >
        <button class="buttonIcon2 arrLeft"
                data-bind=" click: dl.backToClick,
                               ojComponent: {
                                   component:'ojButton', 
                                   icons: {start:'oj-fwk-icon-caret-start oj-fwk-icon'}, 
                                   label: ''
                               }">
        </button>
        <h3 id="header" class="itemTitle" data-bind="text:specialHeaderTitle"></h3>
    </div>

    <button class='mar20 mt70 jindu ' data-bind="event: {click: jinduClick}">进度</button>
    <div id='mainmenu' data-bind="ojComponent:{
                            component:'ojListView',
                            drillMode:'sliding',
                            data: dataSource,
                            item: { template: 'folder_template' }
                }">

    </div>
    <h3 class="navTitle">费用明细清单</h3>
    <div id='mainmenu' data-bind="ojComponent:{
                            component:'ojListView',
                            drillMode:'sliding',
                            data: dataSource1,
                            item: { template: 'folder_template1' }
                }">

    </div>
    <h3 class="navTitle">每个部门分担的费用</h3>
    <div id='mainmenu' data-bind="ojComponent:{
                            component:'ojListView',
                            drillMode:'sliding',
                            data: dataSource2,
                            item: { template: 'folder_template2' }
                }">
    </div>
</div>


<h3 class="navTitle">账单流水</h3>

<div id="navlistcontainer3" class="demo-panel-contrast1 oj-contrast-marker" style="width: 100%; height: 100%;">
    <div id='mainmenu' data-bind="ojComponent:{
                            component:'ojListView',
                            drillMode:'sliding',
                            data: dataSource3,
                            item: { template: 'folder_template3' }
                }">

    </div>
</div>

<button class='mar20 jindu mb40' data-bind="event: {click: jinduClick}">进度</button>


<script type="text/html" id="folder_template">
    <ul class='list'>
        <li>
            <span class="title">报销编号：</span>   <span class="cont" data-bind="text:$data['code']"></span>
        </li>
        <li>
            <span class="title">费用主题：</span>   <span data-bind="text:$data['reimbursementName']"></span>
        </li>
        <li>
            <span class="title">起 草 人：</span>   <span data-bind="text:dl.getLabelByValue('employees', $data['applyEmployeeId'])"></span>
        </li>
        <li>
            <span class="title">报 销 人：</span>   <span data-bind="text:dl.getLabelByValue('employees', $data['employeeId'])"></span>
        </li>
        <li>
            <span class="title">所在部门：</span>   <span data-bind="text:dl.getLabelByValue('all_departments', $data['departmentId'])"></span>
        </li>
        <li>
            <span class="title">归属公司：</span>   <span data-bind="text:dl.getLabelByValue('system_dictionary_26', $data['companyId'])"></span>
        </li>
        <li>
            <span class="title">报销时间：</span>   <span data-bind="text: dl.datetimeConverter.format(dl.parseValueFromService($data['reimbursementTime']))"></span>
        </li>
        <li>
            <span class="title">报销金额：</span>   <span data-bind="text:dl.numberConverter.format(dl.parseValueFromService($data['amount']))"></span>
        </li>
        <li>
            <span class="title">货币种类：</span>   <span>人民币</span>
        </li>
        <li>
            <span class="titlelong">报销费用类型： </span> 
            <span data-bind="text:dl.getLabelByValue('system_dictionary_86', $data['feeType'])"></span>
        </li>
         <li>
            <span class="title">报销类型： </span> 
            <span data-bind="text:dl.getLabelByValue('system_dictionary_246', $data['reimbursementType'])"></span>
        </li>
        <li>
            <span class="title">申请时间：</span>   <span data-bind="text:dl.datetimeConverter.format(dl.parseValueFromService($data['applyTime']))"></span> 
        </li>
        <li>
            <span class="title">备注信息：</span>   <span class="textmany" data-bind="text:$data['remark']"></span>
        </li>
        <li>
            <span class="title">附件：</span>  
            <span>
                <a class='attachment' target='_self' data-bind="attr:{href : $data['attachment']}" >
                    <i class='link' data-bind="text:dl.isNullOrUndefined($data['attachment']) ? '无':$data['attachment']"></i>
                    <span class='attachmentWarning'>（附件可打开预览）</span>
                </a>
            </span>
        </li>
        <li>
            <span class="titlelonger" style="flex:3;">本报销与合同或协议有关： </span>   <span data-bind="text: $data['relatedToContract']"></span>
        </li>
        <li data-bind="visible: $data['relatedToContract']">
            <span class="title">合同金额： </span>   <span data-bind="text:$data['contractAmount']"></span> 
        </li>
        <li data-bind="visible: $data['relatedToContract']">
            <span class="title">供应商 ：</span>  <span data-bind="text:dl.getLabelByValue('receive_unit_manages_company', $data['receiveUnitId'])"></span>
        </li>
        <li data-bind="visible: $data['relatedToContract']">
            <span class="titlelonger">采购人归属部门：</span> <span data-bind="text:dl.getLabelByValue('departments', $data['purchaserDepartment'])"></span>
        </li>
        <li data-bind="visible: $data['relatedToContract']">
            <span class="title">采购人： </span>  <span data-bind="text:dl.getLabelByValue('employees', $data['purchaser'])"></span>
        </li>
        <li data-bind="visible: $data['relatedToContract']">
            <span class="title">采购类别 ：</span>   <span data-bind="text: $data['purchasingCategory']"></span>
        </li>
    </ul>
</script>

<script type="text/html" id="folder_template1">
    <ul class='list' data-bind="attr:{id: $data['mainItemId']}">
        <li>
            <span class="title">报销科目：</span>   <span data-bind="text:dl.getLabelByValue('subject_types', $data['mainItemId'])"></span>
        </li>
        <li>
            <span class="title">报销选项：</span>   <span data-bind="text:dl.getLabelByValue('subject_types', $data['subItemId'])"></span>
        </li>
        <li>
            <span class="title">报销金额：</span>   <span data-bind="text:dl.numberConverter.format(dl.parseValueFromService($data['amount']))"></span>
        </li>
        <li class="textmany">
            <span class="title">摘要：</span>   <span data-bind="text: $data['remark']"></span>
        </li>
        <!--        <h3 style="background-color: lightgray;height:20px;line-height: 20px;"></h3>-->

    </ul>
</script>

<script type="text/html" id="folder_template2">
    <ul class='list'>

        <li>
            <span class="title">部门：</span>   <span data-bind="text:dl.getLabelByValue('all_departments', $data['departmentId'])"></span>
        </li>
        <li>
            <span class="title">费用：</span>   <span data-bind="text:dl.numberConverter.format(dl.parseValueFromService($data['amount']))"></span>
        </li>
        <li>
            <span class="title">进项税：</span>   <span data-bind="text:dl.numberConverter.format(dl.parseValueFromService($data['inputTax']))"></span>
        </li>
        <li>
            <span class="title">成本：</span>   <span data-bind="text:dl.numberConverter.format(dl.parseValueFromService($data['finalAmount']))"></span>
        </li>


    </ul>
</script>

<script type="text/html" id="folder_template3">
    <ul class='list'>
        <li>
            <span class="title">收款方：</span>   <span data-bind="text:$data['payeeName']"></span>
        </li>
        <li>
            <span class="title flex1_5">银行名称（收款方）：</span>   <span data-bind="text:$data['selfBankName']"></span>

        </li>
        <li>
            <span class="title flex1_5">银行账号（收款方）：</span>   <span data-bind="text:$data['selfBankAccount']"></span>
        </li>
        <li>
            <span class="title">付款金额：</span>   <span data-bind="text:dl.numberConverter.format(dl.parseValueFromService($data['payMoney']))"></span>
        </li>
        <li>
            <span class="title">冲账金额：</span>   <span data-bind="text:dl.numberConverter.format(dl.parseValueFromService($data['balanceAmount']))"></span>
        </li>

        <li>
            <span class="textmany title">备注：</span>   <span data-bind="text:$data['remark']"></span>
        </li>

    </ul>
</script>
