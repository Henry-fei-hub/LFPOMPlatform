
<div id="oj-hybrid-padding"  style='position:relative;'>
    <div id='rBmain-header'>
        <button class="buttonIcon2 arrLeft"
                data-bind=" click: dl.backToClick,
                               ojComponent: {
                                   component:'ojButton', 
                                   icons: {start:'oj-fwk-icon-caret-start oj-fwk-icon'}, 
                                   label: ''
                               }">
        </button>

        <h3 id="header" class="itemTitle" data-bind="text:dl.headerTitle"></h3>
    </div> 
    <div id='mainmenu'>
        <ul class='list' style="margin-top: 70px">
            <li>
                <span class="title">员工姓名：</span></br>   <span data-bind="text:dl.getLabelByValue('employees', __employeeId())"></span>
            </li>
            <li>
                <span class="title">员工工号：</span>   <span data-bind="text: __employeeNo()"></span>
            </li>
            <li>
                <span class="title">归属公司：</span>   <span data-bind="text:dl.getLabelByValue('system_dictionary_26', __companyId())"></span>
            </li>
            <li>
                <span class="title">日期：</span>
                <input class="cont" data-bind="ojComponent: {component: 'ojInputDate', value: __startDate, converter: dl.dateConverter}"/>
            </li> 
            <li>
                <span class="title">部门：</span>   <span data-bind="text:dl.getLabelByValue('all_departments', __departmentId())"></span>
            </li>
            <li>
                <span class="title">备注：</span>   <input class="textmany" data-bind="value: __remark" />
            </li>
        </ul>
    </div>
    <div id="othermenu">
        <p class="navTitle" style="position: relative;"> 项目详情
            <span class="iconfont icon-add" style="position: absolute;right:10px;color: #333; font-size: 18px;" data-bind="click: addDetail"> </span>
        </p>
        <ul class='list' data-bind="foreach: __workHoursDetails">
            <li style="display: flex;">
                <span class="iconfont icon-huibao" style="position: absolute;left:0px;color: #333; font-size: 18px;" data-bind="attr:{id: $index},click:  $parent.updateClick"></span>
                <span  style="flex:1;  text-align: center;" data-bind="text:$data.projectCode"></span>
                <span  style="flex:1;  text-align: center;" data-bind="text:dl.getLabelByValue('main_projects_name', $data.projectId)"></span>
                <span  style="width: 70px; text-align: left;" data-bind="text:$data.workHour"></span>
                <span class="iconfont icon-jujue" style="position: absolute;right:0px;color: #333; font-size: 18px;" data-bind="attr:{id: $index},click: $parent.deleteClick"></span>
            </li>
        </ul>
             <div data-bind="visible: addPicShow" style="background: #fff;margin-top: 10px;">
            <p class="navTitle">新增</p>
        <ul  class='list' >
            <li>
                <span class="title">项目编号：</span>   <span data-bind="text: projectCode"></span>
            </li>
            <li>
                <span class="title">项目名称：</span>
                 <input class="cont"  data-bind="ojComponent: {component: 'ojInputSearch', placeholder: '', value: projectId, placeholder: '',  optionsKeys: {value : 'projectId', label : 'projectName'},  options: dl.getOptionsByName('main_projects_name', false)}"/>
            </li> 
            <li>
                <span class="title">工时：</span>  <input data-bind="ojComponent: {component: 'ojInputText', value: workHour}"/>
            </li>
            <button class='mar20 jindu' style='width: 100px; margin: 10px 0; margin-left: 40%;  height: 32px; line-height: 32px; font-size: 14px;' data-bind="event: {click: saveClick}">保存</button>
        </ul>
             </div>
        <div data-bind="visible: updatePicShow" style="background: #fff;margin-top: 10px;">
            <p class="navTitle">修改</p>
            <ul  class='list'>
            <li>
                <span class="title">项目编号：</span>   <span data-bind="text: projectCode"></span>
            </li>
            <li>
                <span class="title">项目名称</span>
                 <input class="cont"  data-bind="ojComponent: {component: 'ojInputSearch', placeholder: '', value: projectId, placeholder: '',  optionsKeys: {value : 'projectId', label : 'projectName'},  options: dl.getOptionsByName('main_projects_name', false)}"/>
            </li> 
            <li>
                <span class="title">工时：</span>  <input data-bind="ojComponent: {component: 'ojInputText', value: workHour}"/>
            </li>
            <button class='mar20 jindu' style='width: 100px; margin: 10px 0; margin-left: 40%;  height: 32px; line-height: 32px; font-size: 14px;' data-bind="event: {click: saveUpdateClick}">保存</button>
        </ul>
       </div>
    </div>

</div>


<div class=" mar20 zjList">
    <span style="font-weight:bold;color:#FF7F27;" data-bind="text:errorMessage"></span>
</div>
<button class='mar20 jindu mb40' data-bind="event: {click: submitClick}">提交</button>

